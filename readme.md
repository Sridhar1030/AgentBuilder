# ğŸš€ 1B LLM Distillation Project

An end-to-end pipeline demonstrating how to distill knowledge from a massive 70B parameter Teacher model into a lightweight 1B parameter Student model that runs entirely offline.

---

## ğŸ“ Distillation at a glance

```
        70B params                    text                     1B params
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   TEACHER   â”‚   answers    â”‚  SFT    â”‚   learns     â”‚   STUDENT   â”‚
     â”‚  Llama 70B  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚  data   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚  Llama 1B   â”‚
     â”‚   (Groq)    â”‚   prompts    â”‚ .json   â”‚   QLoRA      â”‚  + adapters â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚                            â”‚                         â”‚
           â”‚                            â”‚                         â”‚
           â–¼                            â–¼                         â–¼
     "Explain X in        instruction + response           Gradio UI /
      Python..."          pairs (datagen.py)                vLLM / app
```

---

## ğŸ“ Pipeline overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          KNOWLEDGE DISTILLATION PIPELINE                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   TEACHER    â”‚         â”‚    DATA      â”‚         â”‚   TRAINING   â”‚         â”‚   STUDENT    â”‚
     â”‚  Llama 70B   â”‚ â”€â”€â”€â”€â”€â”€â–º â”‚  GENERATION  â”‚ â”€â”€â”€â”€â”€â”€â–º â”‚  QLoRA /     â”‚ â”€â”€â”€â”€â”€â”€â–º â”‚  Llama 1B    â”‚
     â”‚  (Groq API)  â”‚  promptsâ”‚ train_data   â”‚  SFT    â”‚  SFTTrainer  â”‚  PEFT   â”‚  + adapters  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚   .json      â”‚         â”‚  (Colab T4)  â”‚         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
                                      â”‚                        â”‚                      â”‚
                                      â”‚ datagen.py                                      â”‚ app.py
                                      â–¼                                                 â–¼
                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                             â”‚  Python coding  â”‚                               â”‚  GRADIO UI   â”‚
                             â”‚  Q&A prompts    â”‚                               â”‚  (inference) â”‚
                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸŒ Where each part runs

```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  CLOUD (Groq)          â”‚  COLAB (T4 GPU)        â”‚  LOCAL / K8s                    â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                        â”‚                        â”‚                                 â”‚
  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
  â”‚   â”‚  Teacher     â”‚     â”‚   â”‚  SFTTrainer  â”‚     â”‚   â”‚  Student     â”‚              â”‚
  â”‚   â”‚  (70B)       â”‚     â”‚   â”‚  QLoRA       â”‚     â”‚   â”‚  (1B)        â”‚              â”‚
  â”‚   â”‚  inference   â”‚     â”‚   â”‚  fine-tune   â”‚     â”‚   â”‚  inference   â”‚              â”‚
  â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
  â”‚          â”‚             â”‚          â”‚             â”‚          â”‚                       â”‚
  â”‚          â”‚  datagen.py calls      â”‚  reads      â”‚          â”‚  app.py or vLLM       â”‚
  â”‚          â”‚  (from your Mac)       â”‚  train_     â”‚          â”‚  (Gradio / API)       â”‚
  â”‚          â”‚                        â”‚  data.json â”‚          â”‚                       â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§  Tech stack

| Role      | Component                         | Description                                              |
|-----------|-----------------------------------|----------------------------------------------------------|
| **Teacher** | Llama-3-70B (Groq API)           | Fast synthetic data generation                          |
| **Training** | Hugging Face `trl` / SFTTrainer  | QLoRA fine-tuning on Colab T4 GPU                       |
| **Student** | unsloth/Llama-3.2-1B-Instruct   | Base model + learned adapters                           |
| **UI**    | Gradio + Hugging Face `pipeline` | Local chat interface over the distilled model           |

---

## ğŸ“‚ Repository structure

```
AgentBuilder/
â”‚
â”œâ”€â”€ ğŸ“œ datagen.py              Groq API â†’ instruction/response pairs â†’ train_data.json
â”œâ”€â”€ ğŸ“„ train_data.json         SFT dataset (input for Colab training)
â”œâ”€â”€ ğŸ“œ app.py                  Gradio UI; loads student_model + PEFT adapters
â”œâ”€â”€ ğŸ“ student_model/          Trained LoRA weights (not in repo; large)
â”œâ”€â”€ ğŸ“œ student-vllm.yaml       K8s deploy for serving student via vLLM
â””â”€â”€ ğŸ“„ DEPLOY-STUDENT-VLLM.md  Step-by-step K8s deploy guide
```